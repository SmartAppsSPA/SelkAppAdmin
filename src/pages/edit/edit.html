<!--
  Generated template for the EditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ business.info.name }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<h1>Información Empresa</h1>
	<ion-card padding>
		<ion-item>
			<ion-label>Nombre:</ion-label>
			<ion-input (change)="changedToTrue()" [(ngModel)] = "business.info.name"></ion-input>
		</ion-item>
		<ion-item>
			<ion-label>Email:</ion-label>
			<ion-input (change)="changedToTrue()" [(ngModel)] = "business.info.email"></ion-input>
		</ion-item>
		<ion-item>
			<ion-label>Teléfono:</ion-label>
			<ion-input (change)="changedToTrue()" [(ngModel)] = "business.info.phone"></ion-input>
		</ion-item>
		<button ion-button (click)="save()" float-right>Guardar</button>
	</ion-card>
	<h1>Ofertas</h1>
	<ion-card padding>
		<ion-list>
			<ion-card padding>
				<ion-input [(ngModel)]="newOffer" (keyup)="newOfferKeyup($event, newOffer)" border placeholder="Ingresa el texto de una nueva oferta"></ion-input>
				<button ion-button (click)="addOffer(newOffer)">Agregar Oferta</button>
			</ion-card>
			<ion-item *ngFor="let o of offers">
				<span  (click)="editOffer(o.$key, o.text)" >
					<small style="color: #AAA">[{{ o.hour }} {{ o.date }}]:</small> {{ o.text }}
				</span>
				<button ion-button float-right (click)="removeOffer(o.$key)">Eliminar</button>
			</ion-item>
		</ion-list>
	</ion-card>
</ion-content>
